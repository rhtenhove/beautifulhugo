  {{ if eq .Type "page" }}
    {{ partial "page_meta.html" . }}
  {{ end }}
<footer>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <ul class="list-inline text-center footer-links">
          {{ range .Site.Data.beautifulhugo.social.social_icons }}
            {{- if isset $.Site.Author .id }}
              <li class="list-inline-item">
                <a href="{{ printf .url (index $.Site.Author .id) }}" title="{{ .title }}">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="{{ .icon }} fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
            {{- end -}}
          {{ end }}
          {{ if .Site.Params.rss }}
          <li>
            <a href="{{ with .OutputFormats.Get "RSS" }}{{ .RelPermalink }}{{ end }}" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          {{ end }}
        </ul>
        <p class="credits copyright text-muted">
          &copy;
          {{ if .Site.Author.name }}
            {{ if .Site.Author.website }}
              <a href="{{ .Site.Author.website }}">{{ .Site.Author.name }}</a>
            {{ else }}
              {{ .Site.Author.name }}
            {{ end }}
          {{ end }}

          &nbsp;&bull;&nbsp;
          {{ if .Site.Params.since }}
            {{ .Site.Params.since }} - {{ .Site.LastChange.Format "2006" }}
          {{ else }}
            {{ .Site.LastChange.Format "2006" }}
          {{ end }}

          {{ if .Site.Author.email }}
            &nbsp;&bull;&nbsp;
            <a href="mailto:{{ .Site.Author.email }}">{{ .Site.Author.email }}</a>
          {{ end }}
        </p>
        <!-- Please don't remove this, keep my open source work credited :) -->
        <p class="credits theme-by text-muted">
          {{ i18n "poweredBy" . | safeHTML }}
          {{ if $.GitInfo }}&nbsp;&bull;&nbsp;[<a href="{{ .Site.Params.commit }}{{ .GitInfo.Hash }}">{{ substr .GitInfo.Hash 0 8 }}</a>]{{ end }}
        </p>
      </div>
    </div>
  </div>
</footer>

{{- if .Site.Params.selfHosted -}}
  <!--TODO: Import single minified file here-->
  <!--  <script src="{{ "js/all.min.js" | absURL }}"></script> -->
{{- else -}}
  {{ range .Site.Params.Imports.js }}
  <script src="{{ .url }}" integrity="{{ .integrity }}" crossorigin="anonymous" ></script>
  {{ end }}
{{- end }}

<script src="{{ "js/main.js" | absURL }}"></script>
  <script src="{{ "js/load-photoswipe.js" | absURL }}"></script>

{{- if .Site.Params.staticman }}
<script src="{{ "js/staticman.js" | absURL }}"></script>
  {{- if .Site.Params.staticman.recaptcha -}}
  <script src='https://www.google.com/recaptcha/api.js'></script>
  {{- end -}}
{{- end }}

{{- if  .Site.Params.useHLJS }}
  {{- if .Site.Params.selfHosted -}}
<!--  TODO: Import-->
  <script src="{{ "js/highlight.min.js" | absURL }}"></script>
  {{- else -}}
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js" integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin="anonymous"></script>
  {{- end }}
<script> hljs.initHighlightingOnLoad(); </script>

  <!--  TODO: Need this?-->
  <!--<script> $(document).ready(function() {$("pre.chroma").css("padding","0");}); </script>-->
{{- end -}}

<script> renderMathInElement(document.body); </script>

<!-- Google Custom Search Engine -->
{{ if .Site.Params.gcse }}
  <script async src="https://cse.google.com/cse.js?cx={{ .Site.Params.gcse }}"></script>
{{ end }}

{{ if .Site.Params.matomo }}
  <!-- Matomo -->
  <script type="text/javascript">
      var _paq = window._paq || [];
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
          var u="//{{ .Site.Params.matomo.server }}/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '{{ .Site.Params.matomo.id }}']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
  </script>
  <!-- End Matomo Code -->
{{ end }}

{{- partial "footer_custom.html" . }}
